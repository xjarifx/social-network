<script src="https://js.stripe.com/v3/"></script>

<form id="payment-form">
  <div id="card-element"></div>
  <button>Pay</button>
</form>

<script>
  const stripe = Stripe("pk_test_XXXX"); // your publishable key
  const elements = stripe.elements();
  const card = elements.create("card");
  card.mount("#card-element");

  fetch("/create-payment-intent", { method: "POST" })
    .then(res => res.json())
    .then(({ clientSecret }) => {
      document
        .getElementById("payment-form")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          await stripe.confirmCardPayment(clientSecret, {
            payment_method: { card }
          });
        });
    });
</script>
